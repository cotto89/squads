{"version":3,"sources":["../../src/helper/mixin.js"],"names":["mixin","master","src","context","ignore","k","v","includes","bind"],"mappings":";;;;;;;;;;;;;;kBAYwBA,K;;AAZxB;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;AAQe,SAASA,KAAT,CAAeC,MAAf,EAA4D;AAAA,QAArCC,GAAqC,yDAA/B,EAA+B;AAAA,QAA3BC,OAA2B,yDAAjB,EAAiB;AAAA,QAAbC,MAAa,yDAAJ,EAAI;AAAA;AAAA;AAAA;;AAAA;AACvE,wDAAqB,sBAAQF,GAAR,CAArB,4GAAmC;AAAA;;AAAA,gBAAvBG,CAAuB;AAAA,gBAApBC,CAAoB;;AAC/B,gBAAIF,OAAOG,QAAP,CAAgBF,CAAhB,CAAJ,EAAwB;;AAExB,gBAAI,sBAAcC,CAAd,CAAJ,EAAsB;AAClB,oBAAI,CAACH,QAAQE,CAAR,CAAL,EAAiBF,QAAQE,CAAR,IAAa,EAAb;AACjBL,sBAAMC,MAAN,EAAcK,CAAd,EAAiBH,QAAQE,CAAR,CAAjB,EAA6BD,MAA7B;AACA;AACH;;AAED,gBAAI,sBAAWE,CAAX,CAAJ,EAAmB;AACfH,wBAAQE,CAAR,IAAaC,EAAEE,IAAF,CAAOP,MAAP,CAAb;AACA;AACH;;AAEDE,oBAAQE,CAAR,IAAaC,CAAb;AACH;AAhBsE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBvE,WAAOH,OAAP;AACH","file":"mixin.js","sourcesContent":["import isFunction from 'lodash.isfunction';\nimport isPlainObject from 'lodash.isplainobject';\nimport toPairs from 'lodash.topairs';\n\n/**\n * Merge object and auto bind this context\n *\n * @param {Object} master\n * @param {Object} src\n * @param {Object} context\n * @param {String[]} ignore\n */\nexport default function mixin(master, src = {}, context = {}, ignore = []) {\n    for (const [k, v] of toPairs(src)) {\n        if (ignore.includes(k)) continue;\n\n        if (isPlainObject(v)) {\n            if (!context[k]) context[k] = {};\n            mixin(master, v, context[k], ignore);\n            continue;\n        }\n\n        if (isFunction(v)) {\n            context[k] = v.bind(master);\n            continue;\n        }\n\n        context[k] = v;\n    }\n\n    return context;\n}\n"]}